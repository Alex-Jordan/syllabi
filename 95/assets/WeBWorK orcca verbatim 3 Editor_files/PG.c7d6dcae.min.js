"use strict";(()=>{function e(e,t){return e.string.charAt(e.pos+(t||0))}function t(e,t){if(t){var r=e.pos-t;return e.string.substr(r>=0?r:0,t)}return e.string.substr(0,e.pos-1)}function r(e,t){var r=e.string.length,n=r-e.pos+1;return e.string.substr(e.pos,t&&t<r?t:n)}function n(e,t){var r,n=e.pos+t;n<=0?e.pos=0:n>=(r=e.string.length-1)?e.pos=r:e.pos=n}CodeMirror.defineMode("PG",(function(){const i={"->":4,"++":4,"--":4,"**":4,"=~":4,"!~":4,"*":4,"/":4,"%":4,x:4,"+":4,"-":4,".":4,"<<":4,">>":4,"<":4,">":4,"<=":4,">=":4,lt:4,gt:4,le:4,ge:4,"==":4,"!=":4,"<=>":4,eq:4,ne:4,cmp:4,"~~":4,"&":4,"|":4,"^":4,"&&":4,"||":4,"//":4,"..":4,"...":4,"?":4,":":4,"=":4,"+=":4,"-=":4,"*=":4,",":4,"=>":4,"::":4,not:4,and:4,or:4,xor:4,BEGIN:[5,1],END:[5,1],PRINT:[5,1],PRINTF:[5,1],GETC:[5,1],READ:[5,1],READLINE:[5,1],DESTROY:[5,1],TIE:[5,1],TIEHANDLE:[5,1],UNTIE:[5,1],STDIN:5,STDIN_TOP:5,STDOUT:5,STDOUT_TOP:5,STDERR:5,STDERR_TOP:5,$ARG:5,$_:5,"@ARG":5,"@_":5,$LIST_SEPARATOR:5,'$"':5,$PROCESS_ID:5,$PID:5,$$:5,$REAL_GROUP_ID:5,$GID:5,"$(":5,$EFFECTIVE_GROUP_ID:5,$EGID:5,"$)":5,$PROGRAM_NAME:5,$0:5,$SUBSCRIPT_SEPARATOR:5,$SUBSEP:5,"$;":5,$REAL_USER_ID:5,$UID:5,"$<":5,$EFFECTIVE_USER_ID:5,$EUID:5,"$>":5,$COMPILING:5,"$^C":5,$DEBUGGING:5,"$^D":5,"${^ENCODING}":5,$ENV:5,"%ENV":5,$SYSTEM_FD_MAX:5,"$^F":5,"@F":5,"${^GLOBAL_PHASE}":5,"$^H":5,"%^H":5,"@INC":5,"%INC":5,$INPLACE_EDIT:5,"$^I":5,"$^M":5,$OSNAME:5,"$^O":5,"${^OPEN}":5,$PERLDB:5,"$^P":5,$SIG:5,"%SIG":5,$BASETIME:5,"$^T":5,"${^TAINT}":5,"${^UNICODE}":5,"${^UTF8CACHE}":5,"${^UTF8LOCALE}":5,$PERL_VERSION:5,"$^V":5,"${^WIN32_SLOPPY_STAT}":5,$EXECUTABLE_NAME:5,"$^X":5,$1:5,$MATCH:5,"$&":5,"${^MATCH}":5,$PREMATCH:5,"$`":5,"${^PREMATCH}":5,$POSTMATCH:5,"$'":5,"${^POSTMATCH}":5,$LAST_PAREN_MATCH:5,"$+":5,$LAST_SUBMATCH_RESULT:5,"$^N":5,"@LAST_MATCH_END":5,"@+":5,"%LAST_PAREN_MATCH":5,"%+":5,"@LAST_MATCH_START":5,"@-":5,"%LAST_MATCH_START":5,"%-":5,$LAST_REGEXP_CODE_RESULT:5,"$^R":5,"${^RE_DEBUG_FLAGS}":5,"${^RE_TRIE_MAXBUF}":5,$ARGV:5,"@ARGV":5,ARGV:5,ARGVOUT:5,$OUTPUT_FIELD_SEPARATOR:5,$OFS:5,"$,":5,$INPUT_LINE_NUMBER:5,$NR:5,"$.":5,$INPUT_RECORD_SEPARATOR:5,$RS:5,"$/":5,$OUTPUT_RECORD_SEPARATOR:5,$ORS:5,"$\\":5,$OUTPUT_AUTOFLUSH:5,"$|":5,$ACCUMULATOR:5,"$^A":5,$FORMAT_FORMFEED:5,"$^L":5,$FORMAT_PAGE_NUMBER:5,"$%":5,$FORMAT_LINES_LEFT:5,"$-":5,$FORMAT_LINE_BREAK_CHARACTERS:5,"$:":5,$FORMAT_LINES_PER_PAGE:5,"$=":5,$FORMAT_TOP_NAME:5,"$^":5,$FORMAT_NAME:5,"$~":5,"${^CHILD_ERROR_NATIVE}":5,$EXTENDED_OS_ERROR:5,"$^E":5,$EXCEPTIONS_BEING_CAUGHT:5,"$^S":5,$WARNING:5,"$^W":5,"${^WARNING_BITS}":5,$OS_ERROR:5,$ERRNO:5,"$!":5,"%OS_ERROR":5,"%ERRNO":5,"%!":5,$CHILD_ERROR:5,"$?":5,$EVAL_ERROR:5,"$@":5,$OFMT:5,"$#":5,"$*":5,$ARRAY_BASE:5,"$[":5,$OLD_PERL_VERSION:5,"$]":5,if:[1,1],elsif:[1,1],else:[1,1],while:[1,1],unless:[1,1],until:[1,1],for:[1,1],foreach:[1,1],abs:1,accept:1,alarm:1,atan2:1,bind:1,binmode:1,bless:1,bootstrap:1,break:1,caller:1,chdir:1,chmod:1,chomp:1,chop:1,chown:1,chr:1,chroot:1,close:1,closedir:1,connect:1,continue:[1,1],cos:1,crypt:1,dbmclose:1,dbmopen:1,default:1,defined:1,delete:1,die:1,do:1,dump:1,each:1,endgrent:1,endhostent:1,endnetent:1,endprotoent:1,endpwent:1,endservent:1,eof:1,eval:1,exec:1,exists:1,exit:1,exp:1,fcntl:1,fileno:1,flock:1,fork:1,format:1,formline:1,getc:1,getgrent:1,getgrgid:1,getgrnam:1,gethostbyaddr:1,gethostbyname:1,gethostent:1,getlogin:1,getnetbyaddr:1,getnetbyname:1,getnetent:1,getpeername:1,getpgrp:1,getppid:1,getpriority:1,getprotobyname:1,getprotobynumber:1,getprotoent:1,getpwent:1,getpwnam:1,getpwuid:1,getservbyname:1,getservbyport:1,getservent:1,getsockname:1,getsockopt:1,given:1,glob:1,gmtime:1,goto:1,grep:1,hex:1,import:1,index:1,int:1,ioctl:1,join:1,keys:1,kill:1,last:1,lc:1,lcfirst:1,length:1,link:1,listen:1,local:2,localtime:1,lock:1,log:1,lstat:1,m:null,map:1,mkdir:1,msgctl:1,msgget:1,msgrcv:1,msgsnd:1,my:2,new:1,next:1,no:1,oct:1,open:1,opendir:1,ord:1,our:2,pack:1,package:1,pipe:1,pop:1,pos:1,print:1,printf:1,prototype:1,push:1,q:null,qq:null,qr:null,quotemeta:null,qw:null,qx:null,rand:1,read:1,readdir:1,readline:1,readlink:1,readpipe:1,recv:1,redo:1,ref:1,rename:1,require:1,reset:1,return:1,reverse:1,rewinddir:1,rindex:1,rmdir:1,s:null,say:1,scalar:1,seek:1,seekdir:1,select:1,semctl:1,semget:1,semop:1,send:1,setgrent:1,sethostent:1,setnetent:1,setpgrp:1,setpriority:1,setprotoent:1,setpwent:1,setservent:1,setsockopt:1,shift:1,shmctl:1,shmget:1,shmread:1,shmwrite:1,shutdown:1,sin:1,sleep:1,socket:1,socketpair:1,sort:1,splice:1,split:1,sprintf:1,sqrt:1,srand:1,stat:1,state:1,study:1,sub:1,substr:1,symlink:1,syscall:1,sysopen:1,sysread:1,sysseek:1,system:1,syswrite:1,tell:1,telldir:1,tie:1,tied:1,time:1,times:1,tr:null,truncate:1,uc:1,ucfirst:1,umask:1,undef:1,unlink:1,unpack:1,unshift:1,untie:1,use:1,utime:1,values:1,vec:1,wait:1,waitpid:1,wantarray:1,warn:1,when:1,write:1,y:null},a="atom",o="keyword",s=new Set(["DOCUMENT","ENDDOCUMENT","loadMacros","TEXT","SOLUTION","HINT","STATEMENT","COMMENT","MODES","htmlLink","helpLink","knowlLink","image","Context","Compute","Real","Formula","String","List","Complex","Point","Vector","Matrix","Interval","Set","Fraction","ANS","NAMED_ANS","WEIGHTED_ANS","MultiAnswer","Value","random","list_random","non_zero_random","NchooseK"]),u=new Set(["BR","RBR","PAR","LQ","RQ","BM","EM","BDM","EDM","LTS","GTS","LTE","GTE","BEGIN_ONE_COLUMN","END_ONE_COLUMN","SOL","SOLUTION","HINT","COMMENT","US","SPACE","NBSP","NDASH","MDASH","BLABEL","ELABEL","BBOLD","EBOLD","BITALIC","EITALIC","BUL","EUL","BCENTER","ECENTER","BLTR","ELTR","BKBD","EKBD","HR","LBRACE","RBRACE","LB","RB","DOLLAR","PERCENT","CARET","PI","E","LATEX","TEX","APOS","showPartialCorrectAnswers","refreshCachedImages","ITEM","ITEMSEP"]),c="string-2",l=/[goseximacplud]/;function f(e,t,r,n,i,a){return t.chain=null,t.style=null,t.tail=null,t.tokenize=function(e,t){for(var o,s=!1,u=0;o=e.next();){if(o===r[u]&&!s)return void 0!==r[++u]?(t.chain=r[u],t.style=n,t.tail=i):i&&e.eatWhile(i),t.tokenize=a||T,n;s=!s&&"\\"==o}return n},t.tokenize(e,t)}function m(e,t,r){return t.tokenize=function(e,t){return e.string==r&&(t.tokenize=T),e.skipToEnd(),"string"},t.tokenize(e,t)}function E(e,t,r,n,i){return t.tokenize=function(e,t){if(i&&"math"==i.mode)var c=new RegExp("^\\\\"+r);else c=new RegExp("^"+r);if(e.match(c))return i?(t.tokenize=function(e,t){return E(e,t,i.string,i.style,i.prevState)},r.includes("BOLD")?"atom strong":r.includes("ITALIC")?"atom em":i.endstyle?i.endstyle:n):(t.tokenize=T,a);t.tokenize=function(e,t){return E(e,t,r,n,i)};const l={};if(l.prevState=i?JSON.parse(JSON.stringify(i)):null,l.style=n,l.string=r,i&&"cmd"==i.mode){if(l.mode="cmd",e.match(/^[$@%]{/))return n="variable",t.tokenize=function(e,t){return E(e,t,"\\}",n,l)},n;if(e.match(/^\(/))return l.endstyle="variable",t.tokenize=function(e,t){return E(e,t,"\\)",n,l)},"variable";if(e.match(/^\[/))return l.endstyle="variable",t.tokenize=function(e,t){return E(e,t,"\\]",n,l)},"variable";if(e.match(/^\{/))return l.endstyle="variable",t.tokenize=function(e,t){return E(e,t,"\\}",n,l)},"variable";if(e.match(/^\w+/))return s.has(e.current())?o:n;if(e.match(/^['"]/))return f(e,t,[e.current()],"string",null,(function(e,t){E(e,t,r,n,i)}));if(e.match(/^[=,;/\*><%&|.~?:+/-]/))return"variable"}if(e.match(/^\\\(/))n=i?"error":"comment",t.tokenize=function(e,t){return l.mode="math",E(e,t,"\\)",n,l)};else if(e.match(/^\\\[/))n=i?"error":"comment",t.tokenize=function(e,t){return l.mode="math",E(e,t,"\\]",n,l)};else if(e.match(/^\\{/))n=i?"error":"variable-2",t.tokenize=function(e,t){return l.mode="cmd",E(e,t,"\\\\}",n,l)};else if(e.match(/^``/))n=i&&"math"!=i.mode?"error":"variable-3",t.tokenize=function(e,t){return E(e,t,"``",n,l)};else if(e.match(/^`/))n=i&&"math"!=i.mode?"error":"variable-3",t.tokenize=function(e,t){return E(e,t,"`([^`]|$)",n,l)};else{if(e.match(/^(\$BBOLD|\${BBOLD})/))return n=n=" strong",t.tokenize=function(e,t){return E(e,t,"(\\$EBOLD|\\${EBOLD})",n,l)},"atom strong";if(e.match(/^(\$BITALIC|\${BITALIC})/))return n+=" em",t.tokenize=function(e,t){return E(e,t,"(\\$EITALIC|\\${EITALIC})",n,l)},"atom em";if(e.match(/^[$@%]\w+/))return u.has(e.current().substring(1))?a:"variable";if(e.match(/^[$@%]{\w+}/))return u.has(e.current().slice(2,-1))?a:"variable";if(e.match(/^ +$/))return"trailingspace";if(e.match(/^[\[\]\\ (){}$@%`]/))return n;if(i&&"cmd"==i.mode){if(e.match(/\w+/))return n;e.next()}else e.eatWhile(/[^\[\]\\ (){}$@%`]/)}return n},t.tokenize(e,t)}function $(e,t,r,n,i){return t.tokenize=function(e,t){var a=new RegExp("^"+r);return e.match(a)?(t.tokenize=function(e,t){return p(e,t,i.string,i.style,i.prevState)},n):(t.tokenize=function(e,t){return $(e,t,r,n,i)},e.match(/^[\]%`]/)||e.eatWhile(/[^\]%`]/),n)},t.tokenize(e,t)}function h(e,t,r,n,i){return t.tokenize=function(e,t){var c=new RegExp("^"+r);if(e.match(c))return e.eol()&&i.subblock&&i.prevState&&i.prevState.stopeol?t.tokenize=function(e,t){return h(e,t,i.prevState.string,i.prevState.style,i.prevState.prevState)}:e.eol()&&i.prevState&&i.prevState.stopeol?t.tokenize=function(e,t){return p(e,t,i.prevState.string,i.prevState.style,i.prevState.prevState)}:i.subblock?t.tokenize=function(e,t){return h(e,t,i.string,i.style,i.prevState)}:t.tokenize=function(e,t){return p(e,t,i.string,i.style,i.prevState)},"var"!=i.mode&&"cmd"!=i.mode||e.match(/^\*{1,3}([^\*]|$)/),"calc"==i.mode&&(e.match(/^\*(\s|$)/)||e.match(/^\{.+\}/)),i.endstyle?i.endstyle:n;t.tokenize=function(e,t){return h(e,t,r,n,i)};var l={};if(l.prevState=i?JSON.parse(JSON.stringify(i)):null,l.style=n,l.string=r,l.subblock=!0,i.mode&&(l.mode=i.mode),"cmd"==i.mode){if(e.match(/^[$@%]\w+/))return u.has(e.current().substring(1))?a:"variable";if(e.match(/^[$@%]{\w+}/))return u.has(e.current().slice(2,-1))?a:"variable";if(e.match(/^[$@%]{/))return n="variable",t.tokenize=function(e,t){return h(e,t,"\\}",n,l)},n;if(e.match(/^\(/))return l.endstyle="variable",t.tokenize=function(e,t){return h(e,t,"\\)",n,l)},"variable";if(e.match(/^\w+/))return s.has(e.current())?o:n;if(e.match(/^['"]/))return f(e,t,[e.current()],"string",null,(function(e,t){h(e,t,r,n,i)}));if(e.match(/^[=,;/\*><%$&|.~?:]/))return"variable"}if(e.match(/^\[\$/)){const r=e.pos;if(e.match(/^\w+/)&&u.has(e.current().substring(2))&&e.eat("]"))return e.match(/^\*{1,3}/),a;e.pos=r,n="variable",t.tokenize=function(e,t){return l.mode="var",h(e,t,"\\]",n,l)}}else if(e.match(/^\[/)){if("cmd"==i.mode&&(l.endstyle="variable"),t.tokenize=function(e,t){return h(e,t,"\\]",n,l)},"cmd"==i.mode)return"variable"}else if(e.match(/^\{/)){if("cmd"==i.mode&&(l.endstyle="variable"),t.tokenize=function(e,t){return h(e,t,"\\}",n,l)},"cmd"==i.mode)return"variable"}else{if(e.match(/^\w+\s*/))return n;e.eat(/./)}return n},t.tokenize(e,t)}function p(e,t,r,n,i){return t.tokenize=function(e,t){var s=new RegExp("^"+r);if(e.match(s))return i?(e.eol()&&i.prevState&&i.prevState.stopeol?t.tokenize=function(e,t){return p(e,t,i.prevState.string,i.prevState.style,i.prevState.prevState)}:t.tokenize=function(e,t){return p(e,t,i.string,i.style,i.prevState)},n):(t.tokenize=T,o);t.tokenize=function(e,t){return p(e,t,r,n,i)};var c={};if(c.prevState=i?JSON.parse(JSON.stringify(i)):null,c.style=n,c.string=r,e.sol()){if(e.match(/^ *(>> +)?[ivxIVX]+[.\)] /)||e.match(/^ *(>> +)?[\w\d][.\)] /)||e.match(/^ *(>> +)?[*\-+o] /))return"atom strong";if(e.match(/^ *[\-=]{3,}/))return e.match(/^\{[^}]*\}/),e.match(/^\{[^}]*\}/),"hr";if(e.match(/^ *(>> +)?#{1,}.*$/))return"header";if(e.match(/^ *>> /))return"atom strong";if(e.match(/^ *:   /))return n="tag",t.tokenize=function(e,t){return c.stopeol=!0,p(e,t,".$",n,c)},n}if(e.match(/^\[:{1,3}/)){n="variable-3";const r=e.current().substring(1)+"\\]";t.tokenize=function(e,t){return c.mode="calc",h(e,t,r,n,c)}}else if(e.match(/^\[`{1,3}/)){n="comment";const r=e.current().substring(1)+"\\]";t.tokenize=function(e,t){return c.mode="tex",h(e,t,r,n,c)}}else if(e.match(/^\[\|+/)){n="tag";const r=e.current().substring(1)+"\\]";t.tokenize=function(e,t){return p(e,t,r,n,c)}}else if(!i&&e.match(/^```/))n="tag",t.tokenize=function(e,t){return $(e,t,"```",n,c)};else if(e.match(/^\[%/))n="bracket",t.tokenize=function(e,t){return $(e,t,"%\\]",n,c)};else if(e.match(/^\[@/))n="variable-2",t.tokenize=function(e,t){return c.mode="cmd",h(e,t,"@\\]",n,c)};else if(e.match(/^\[\$/)){const r=e.pos;if(e.match(/^[\w\d_]+/)&&u.has(e.current().substring(2))&&e.eat("]"))return e.match(/^\*{1,3}/),a;e.pos=r,n="variable",t.tokenize=function(e,t){return c.mode="var",h(e,t,"\\]",n,c)}}else{if(e.match(/^\[_+\]/))return e.match(/^\*?\{/)&&(t.tokenize=function(e,t){return h(e,t,"\\}","builtin",c)}),"builtin";if(e.match(/<< *$/))return"atom strong";if(e.match(/^(\*_|_\*)\w/)){n+=" strong em";const r=(e.current().charAt(1)+e.current().charAt(0)).replace(/\*/,"\\*");t.tokenize=function(e,t){return p(e,t,r,n,c)}}else if(e.match(/^\*{1,3}\w/)){n+=" strong";const r=e.current().slice(0,-1).replace(/\*/g,"\\*");t.tokenize=function(e,t){return p(e,t,r,n,c)}}else if(e.match(/^_{1,3}\w/)){n+=" em";const r=e.current().slice(0,-1);t.tokenize=function(e,t){return p(e,t,r,n,c)}}else{if(e.match(/^ +$/))return"trailingspace";if(e.match(/[A-Za-z0-9]+\s*/))return n;e.eat(/./)}}return n},t.tokenize(e,t)}function T($,h){if($.eatSpace())return null;if(h.chain)return f($,h,h.chain,h.style,h.tail);if($.match(/^(\-?((\d[\d_]*)?\.\d+(e[+-]?\d+)?|\d+\.\d*)|0x[\da-fA-F_]+|0b[01_]+|\d[\d_]*(e[+-]?\d+)?)/))return"number";if($.match(/^<<(?=[_a-zA-Z])/))return $.eatWhile(/\w/),m($,h,$.current().substr(2));if($.sol()&&$.match(/^\=item(?!\w)/))return m($,h,"=cut");if($.match(/^BEGIN_TEXT\s*$/))return h.tokenize=function(e,t){return E(e,t,"END_TEXT","meta")},o;if($.match(/^BEGIN_HINT\s*$/))return h.tokenize=function(e,t){return E(e,t,"END_HINT","meta")},o;if($.match(/^BEGIN_SOLUTION\s*$/))return h.tokenize=function(e,t){return E(e,t,"END_SOLUTION","meta")},o;if($.match(/^BEGIN_PGML\s*$/))return h.tokenize=function(e,t){return p(e,t,"END_PGML","meta")},o;if($.match(/^BEGIN_PGML_HINT\s*$/))return h.tokenize=function(e,t){return p(e,t,"END_PGML_HINT","meta")},o;if($.match(/^BEGIN_PGML_SOLUTION\s*$/))return h.tokenize=function(e,t){return p(e,t,"END_PGML_SOLUTION","meta")},o;var T=$.next();if('"'==T||"'"==T){if(t($,3)=="<<"+T){var d=$.pos;$.eatWhile(/\w/);var _=$.current().substr(1);if(_&&$.eat(T))return m($,h,_);$.pos=d}return f($,h,[T],"string")}if("q"==T&&(!(g=e($,-2))||!/\w/.test(g)))if("x"==(g=e($,0))){if("("==(g=e($,1)))return n($,2),f($,h,[")"],c,l);if("["==g)return n($,2),f($,h,["]"],c,l);if("{"==g)return n($,2),f($,h,["}"],c,l);if("<"==g)return n($,2),f($,h,[">"],c,l);if(/[\^'"!~\/]/.test(g))return n($,1),f($,h,[$.eat(g)],c,l)}else if("q"==g){if("("==(g=e($,1)))return n($,2),f($,h,[")"],"string");if("["==g)return n($,2),f($,h,["]"],"string");if("{"==g)return n($,2),f($,h,["}"],"string");if("<"==g)return n($,2),f($,h,[">"],"string");if(/[\^'"!~\/]/.test(g))return n($,1),f($,h,[$.eat(g)],"string")}else if("w"==g){if("("==(g=e($,1)))return n($,2),f($,h,[")"],"bracket");if("["==g)return n($,2),f($,h,["]"],"bracket");if("{"==g)return n($,2),f($,h,["}"],"bracket");if("<"==g)return n($,2),f($,h,[">"],"bracket");if(/[\^'"!~\/]/.test(g))return n($,1),f($,h,[$.eat(g)],"bracket")}else if("r"==g){if("("==(g=e($,1)))return n($,2),f($,h,[")"],c,l);if("["==g)return n($,2),f($,h,["]"],c,l);if("{"==g)return n($,2),f($,h,["}"],c,l);if("<"==g)return n($,2),f($,h,[">"],c,l);if(/[\^'"!~\/]/.test(g))return n($,1),f($,h,[$.eat(g)],c,l)}else if(/[\^'"!~\/(\[{<]/.test(g)){if("("==g)return n($,1),f($,h,[")"],"string");if("["==g)return n($,1),f($,h,["]"],"string");if("{"==g)return n($,1),f($,h,["}"],"string");if("<"==g)return n($,1),f($,h,[">"],"string");if(/[\^'"!~\/]/.test(g))return f($,h,[$.eat(g)],"string")}if("m"==T&&((!(g=e($,-2))||!/\w/.test(g))&&(g=$.eat(/[(\[{<\^'"!~\/]/)))){if(/[\^'"!~\/]/.test(g))return f($,h,[g],c,l);if("("==g)return f($,h,[")"],c,l);if("["==g)return f($,h,["]"],c,l);if("{"==g)return f($,h,["}"],c,l);if("<"==g)return f($,h,[">"],c,l)}if("s"==T&&(!(g=/[\/>\]})\w]/.test(e($,-2)))&&(g=$.eat(/[(\[{<\^'"!~\/]/))))return f($,h,"["==g?["]","]"]:"{"==g?["}","}"]:"<"==g?[">",">"]:"("==g?[")",")"]:[g,g],c,l);if("y"==T&&(!(g=/[\/>\]})\w]/.test(e($,-2)))&&(g=$.eat(/[(\[{<\^'"!~\/]/))))return f($,h,"["==g?["]","]"]:"{"==g?["}","}"]:"<"==g?[">",">"]:"("==g?[")",")"]:[g,g],c,l);if("t"==T&&(!(g=/[\/>\]})\w]/.test(e($,-2)))&&(g=$.eat("r"))&&(g=$.eat(/[(\[{<\^'"!~\/]/))))return f($,h,"["==g?["]","]"]:"{"==g?["}","}"]:"<"==g?[">",">"]:"("==g?[")",")"]:[g,g],c,l);if("`"==T)return f($,h,[T],"variable-2");if("/"==T)return/~\s*$/.test(t($))?f($,h,[T],c,l):"operator";if("$"==T){d=$.pos;if($.eatWhile(/\w/)&&u.has($.current().substring(1)))return a;if($.pos=d,$.eatWhile(/\d/)||$.eat("{")&&$.eatWhile(/\d/)&&$.eat("}"))return"variable-2";$.pos=d}if(/[$@%]/.test(T)){d=$.pos;if($.eat("^")&&$.eat(/[A-Z]/)||!/[@$%&]/.test(e($,-2))&&$.eat(/[=|\\\-#?@;:&`~\^!\[\]*'"$+.,\/<>()]/)){var g=$.current();if(i[g])return"variable-2"}$.pos=d}if(/[$@%&]/.test(T)&&($.eatWhile(/[\w$]/)||$.eat("{")&&$.eatWhile(/[\w$]/)&&$.eat("}"))){g=$.current();return i[g]?"variable-2":"variable"}if("#"==T&&"$"!=e($,-2))return $.skipToEnd(),"comment";if("-"==T&&" "!=e($,-2)&&$.match(/>\w+/))return"variable";if(/[:+\-\^*$&%@=<>!?|\/~\.]/.test(T)){d=$.pos;if($.eatWhile(/[:+\-\^*$&%@=<>!?|\/~\.]/),i[$.current()])return"operator";$.pos=d}if("_"==T&&1==$.pos){if("_END__"==r($,6))return f($,h,["\0"],"comment");if("_DATA__"==r($,7))return f($,h,["\0"],"variable-2");if("_C__"==r($,7))return f($,h,["\0"],"string")}if(/\w/.test(T)){d=$.pos;if("{"==e($,-2)&&("}"==e($,0)||$.eatWhile(/\w/)&&"}"==e($,0)))return"string";if($.pos=d,$.match(/\w* *=>/))return"string"}if(/[A-Z]/.test(T)){var A=e($,-2);d=$.pos;if($.eatWhile(/[A-Z_]/),!/[\da-z]/.test(e($,0))){g=i[$.current()];var R=s.has($.current());return g||R?R?o:(g[1]&&(g=g[0]),":"!=A?1==g?"keyword":2==g?"def":3==g?"atom":4==g?"operator":5==g?"variable-2":"meta":"meta"):"meta"}$.pos=d}if(/[a-zA-Z_]/.test(T)){A=e($,-2);$.eatWhile(/\w/);g=i[$.current()],R=s.has($.current());return g||R?R?o:(g[1]&&(g=g[0]),":"!=A?1==g?"keyword":2==g?"def":3==g?"atom":4==g?"operator":5==g?"variable-2":"meta":"meta"):"meta"}return null}return{startState:function(){return{tokenize:T,chain:null,style:null,tail:null}},token:function(e,t){return(t.tokenize||T)(e,t)},lineComment:"#"}})),CodeMirror.registerHelper("wordChars","perl",/[\w$]/),CodeMirror.defineMIME("text/x-perl","perl")})();