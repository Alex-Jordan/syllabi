"use strict";(()=>{const e=function(){const e=this.cloneNode(!0),t=e.tagName.toLowerCase();e.classList.remove("image-view-elt"),e.removeAttribute("tabindex"),e.removeAttribute("role"),e.removeAttribute("width"),e.removeAttribute("height"),e.removeAttribute("style");let n=e.outerHTML;if("svg"==t){const e=n.match(/\bid="[^"]*"/g);e&&(e.sort(((e,t)=>t.length-e.length)),e.forEach((e=>{const t=e.replace(/id="(.*)"/,"$1");n=n.replaceAll(t,"viewDialog"+t)})))}const i=document.createElement("div");i.classList.add("modal","image-view-dialog"),i.ariaLabel="image view dialog",i.tabIndex=-1;const o=document.createElement("div");o.classList.add("modal-dialog");const s=document.createElement("div");s.classList.add("modal-content");const a=document.createElement("div");a.classList.add("modal-header");const d=document.createElement("button");d.type="button",d.classList.add("btn","zoom-in"),d.ariaLabel="zoom in";const r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.classList.add("bi","bi-zoom-in"),r.setAttribute("width",16),r.setAttribute("height",16),r.setAttribute("fill","currentColor"),r.setAttribute("viewBox","0 0 16 16"),r.setAttribute("aria-hidden",!0);const l=document.createElementNS("http://www.w3.org/2000/svg","path");l.setAttribute("fill-rule","evenodd"),l.setAttribute("d","M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z");const c=document.createElementNS("http://www.w3.org/2000/svg","path");c.setAttribute("d","M10.344 11.742c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1 6.538 6.538 0 0 1-1.398 1.4z");const u=document.createElementNS("http://www.w3.org/2000/svg","path");u.setAttribute("fill-rule","evenodd"),u.setAttribute("d","M6.5 3a.5.5 0 0 1 .5.5V6h2.5a.5.5 0 0 1 0 1H7v2.5a.5.5 0 0 1-1 0V7H3.5a.5.5 0 0 1 0-1H6V3.5a.5.5 0 0 1 .5-.5z"),r.append(l,c,u);const m=document.createElement("button");m.type="button",m.classList.add("btn","zoom-in"),m.ariaLabel="zoom in";const w=document.createElementNS("http://www.w3.org/2000/svg","svg");w.classList.add("bi","bi-zoom-out"),w.setAttribute("width",16),w.setAttribute("height",16),w.setAttribute("fill","currentColor"),w.setAttribute("viewBox","0 0 16 16"),w.setAttribute("aria-hidden",!0);const v=document.createElementNS("http://www.w3.org/2000/svg","path");v.setAttribute("fill-rule","evenodd"),v.setAttribute("d","M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z");const h=document.createElementNS("http://www.w3.org/2000/svg","path");h.setAttribute("d","M10.344 11.742c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1 6.538 6.538 0 0 1-1.398 1.4z");const p=document.createElementNS("http://www.w3.org/2000/svg","path");p.setAttribute("fill-rule","evenodd"),p.setAttribute("d","M3 6.5a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5z"),w.append(v,h,p);const b=document.createElement("span");b.classList.add("drag-handle"),b.textContent="Â ";const g=document.createElement("button");g.type="button",g.classList.add("btn-close"),g.dataset.bsDismiss="modal",g.ariaLabel="close";const E=document.createElement("div");let L;E.classList.add("modal-body"),E.innerHTML=n,d.append(r),m.append(w),a.append(d,m,b,g),s.append(a,E),o.append(s),i.append(o),i.addEventListener("shown.bs.modal",(()=>{let e,n;if("img"==t)e=this.naturalWidth,n=this.naturalHeight;else if("svg"==t){const t=E.querySelector("svg").viewBox.baseVal;e=4*t.width/3,n=4*t.height/3}const s=a.offsetHeight;let r=window.innerWidth-18,l=window.innerHeight-s-18;o.style.maxWidth=r+18+"px",o.style.maxHeight=l+s+18+"px";let c,u,w=e,v=n;const h=(e,t)=>{c=e<0||w>=r?0:e+w>r?r-w:e,u=t<0||v>=l?0:t+v>l?l-v:t,o.style.left=c+"px",o.style.top=u+"px"},p=(t,i)=>{const a=w,d=v;t*w>r||t*v>l?(w=r,v=w*n/e,v>l&&(v=l,w=v*e/n)):t*w<100||t*v<100?(w=100,v=w*n/e,v<100&&(v=100,w=v*e/n)):(w*=t,v*=t),E.style.width=w+"px",E.style.height=v+"px",o.style.width=w+18+"px",o.style.height=v+s+18+"px",i?h((r-w)/2,(l-v)/2):h(c-(w-a)/2,u-(v-d)/2),o.focus()};b.addEventListener("pointerdown",(e=>{e.preventDefault();const t=e.offsetX+b.offsetLeft,n=e.offsetY+b.offsetTop,i=e=>{e.preventDefault(),h(e.clientX-t,e.clientY-n)};b.addEventListener("pointermove",i),b.setPointerCapture(e.pointerId),b.addEventListener("lostpointercapture",(e=>{e.preventDefault(),b.removeEventListener("pointermove",i)}),{once:!0})})),d.addEventListener("click",(()=>{d.blur(),p(1.25)})),m.addEventListener("click",(()=>{m.blur(),p(.8)})),L=()=>{r=window.innerWidth-18,l=window.innerHeight-s-18,o.style.maxWidth=r+18+"px",o.style.maxHeight=l+s+18+"px",p(1)},window.addEventListener("resize",L),i.addEventListener("keydown",(t=>{"="!==t.key&&"+"!==t.key||p(1.25),"-"===t.key&&p(.8),t.ctrlKey&&"0"===t.key&&(w=e,v=n,p(1))})),o.addEventListener("wheel",(e=>{e.preventDefault(),e.deltaY<0&&p(1.25),e.deltaY>0&&p(.8)})),p(1,!0);document.querySelector(".modal-backdrop").style.opacity="0.2"})),i.addEventListener("hidden.bs.modal",(()=>{f.dispose(),i.remove(),window.removeEventListener("resize",L),this.focus()}));const f=new bootstrap.Modal(i);f.show()},t=function(t){" "!==t.key&&"Enter"!==t.key||(t.preventDefault(),e.call(this))};document.querySelectorAll(".image-view-elt").forEach((n=>{n.addEventListener("click",e),n.addEventListener("keydown",t)}));const n=n=>{n.removeEventListener("click",e),n.removeEventListener("keydown",t),n.addEventListener("click",e),n.addEventListener("keydown",t)},i=new MutationObserver((e=>{e.forEach((e=>{e.addedNodes.forEach((e=>{e instanceof Element&&(e.classList.contains("image-view-elt")?n(e):e.querySelectorAll(".image-view-elt").forEach(n))}))}))}));i.observe(document.body,{childList:!0,subtree:!0}),window.addEventListener("unload",(()=>i.disconnect()))})();