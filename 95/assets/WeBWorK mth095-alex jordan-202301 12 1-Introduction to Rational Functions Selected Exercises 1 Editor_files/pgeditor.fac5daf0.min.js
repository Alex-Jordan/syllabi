!async function(){if(!CodeMirror)return;const e=async e=>{const t=[...e.matchAll(/.*\/([^.]*?)(?:\.min)?\.(?:js|css)$/g)][0]?.[1]??"default";if("default"!==t)try{await(async e=>new Promise(((t,c)=>{let a,l=!1;if(/\.js(?:\??[0-9a-zA-Z=]*)$/.exec(e))a=document.querySelector(`script[src="${e}"]`),a||(a=document.createElement("script"),a.async=!1,a.src=e,l=!0);else{if(!/\.css(?:\??[0-9a-zA-Z=]*)$/.exec(e))return void c();a=document.querySelector(`link[href="${e}"]`),a||(a=document.createElement("link"),a.rel="stylesheet",a.href=e,l=!0)}a.dataset.loaded?t():(a.addEventListener("error",c),a.addEventListener("abort",c),a.addEventListener("load",(()=>{a&&(a.dataset.loaded="true"),t()})),l&&document.head.appendChild(a))})))(e)}catch{return"default"}return t};cm=CodeMirror.fromTextArea(document.querySelector(".codeMirrorEditor"),{mode:"PG",indentUnit:4,tabMode:"spaces",lineNumbers:!0,lineWrapping:!0,extraKeys:{Tab:e=>e.execCommand("insertSoftTab")},highlightSelectionMatches:{annotateScrollbar:!0},matchBrackets:!0,inputStyle:"contenteditable",spellcheck:"true"===localStorage.getItem("WW_PGEditor_spellcheck")}),cm.setSize("100%",400);const t=localStorage.getItem("WW_PGEditor_selected_theme")??"default",c=await e(t);cm.setOption("theme",c);const a=localStorage.getItem("WW_PGEditor_selected_keymap")??"default",l=await e(a);cm.setOption("keyMap",l);const n=document.getElementById("selectTheme");n.value="default"===c?"default":t,n.addEventListener("change",(async()=>{const t=await e(n.value);cm.setOption("theme",t),localStorage.setItem("WW_PGEditor_selected_theme","default"===t?"default":n.value)}));const d=document.getElementById("selectKeymap");d.value="default"===l?"default":a,d.addEventListener("change",(async()=>{const t=await e(d.value);cm.setOption("keyMap",t),localStorage.setItem("WW_PGEditor_selected_keymap","default"===t?"default":d.value)}));const o=document.getElementById("enableSpell");o.checked="true"===localStorage.getItem("WW_PGEditor_spellcheck"),o.addEventListener("change",(()=>{cm.setOption("spellcheck",o.checked),localStorage.setItem("WW_PGEditor_spellcheck",o.checked),cm.focus()}));const r=document.getElementById("forceRTL");r.addEventListener("change",(()=>{cm.setOption("direction",r.checked?"rtl":"ltr")}))}();